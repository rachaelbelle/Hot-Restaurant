<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Reservation</title>
  <meta name="description" content="Reservation">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css?family=Comfortaa|Quicksand|Righteous|Special+Elite|VT323"
    rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- header -->
  <div class="jumbotron">
    <h1 class="display-4 text-center text-black"><i class="fab fa-hotjar"></i> Hot Restaurant</h1>
    <hr class="my-4">
    <h3 class="text-center text-black">Current Reservations and Waiting List</h3>
    <div class="text-center">
        <div class="text-center">
            <a class="btn btn-large btn-danger" href="#">
              <i class="far fa-credit-card"></i> Make Reservation</a>
              <a class="btn btn-light" href="view.html"><i class="fas fa-home"></i></a>
    </div>
  </div>


  <div class="jumbotron">
      <div class="card">
          <div class="card-header">
            Current Reservation
          </div>
          <div class="card-body" id="viewReserve">

          </div>
        </div>
        <div class="card" id=waitinglist>
            <div class="card-header">
              Waiting List
            </div>
            <div class="card-body" id="waitreserve">
            </div>
          </div>
  </div>
  <script>
      $.get("/api/current-reservations", function (data) {
            console.log(data);
            if (data) {
              $("#stats").show();
              $("#name").text(data.name);
              $("#partyOf").text(data.role);
              $("#phoneNumber").text(data.phoneNumber);
              $("#email").text(data.email);
  
              for (i = 0; i < data.length; i++) {
                var name = $("<p>");
                var partyOf = $("<p>");
                var phoneNumber = $("<P>");
                var email = $("<P>");
  
                name.text(data[i].name);
                partyOf.text(data[i].partyOf);
                phoneNumber.text(data[i].phoneNumber);
                email.text(data[i].email);
  
                $("#viewReserve").append(name, partyOf, phoneNumber, email);
              };
  
            } else {
              $("#name").text("The Information you searched for cannot be located");
              $("#stats").hide();
            }
          }


    $.get("/api/current-waitlist", function (data) {
          console.log(data);
          if (data) {
            $("#stats").show();
            $("#name").text(data.name);
            $("#partyOf").text(data.role);
            $("#phoneNumber").text(data.phoneNumber);
            $("#email").text(data.email);

            for (i = 0; i < data.length; i++) {
              var name = $("<p>");
              var partyOf = $("<p>");
              var phoneNumber = $("<P>");
              var email = $("<P>");

              name.text(data[i].name);
              partyOf.text(data[i].partyOf);
              phoneNumber.text(data[i].phoneNumber);
              email.text(data[i].email);

              $("#waitReserve").append(name, partyOf, phoneNumber, email);
            };

          } else {
            $("#name").text("The Information you searched for cannot be located");
            $("#stats").hide();
          }
  </script>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

</html>
